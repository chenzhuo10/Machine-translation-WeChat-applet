## 组件接口设计

### Translation 类

`Translation` 类是整个组件的核心类，它封装了 OCR 的功能，用于处理文字、语音和图片的翻译，以及查询历史记录。

| 方法名                                                       | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `textTranslation(text: str, from_language: str, to_language: str) -> str` | 将文本从一种语言翻译为另一种语言，并返回翻译后的文本结果。   |
| `voiceTranslation(audio_file: bytes, from_language: str, to_language: str) -> str` | 将音频文件从一种语言翻译为另一种语言，并返回翻译后的文本结果。 |
| `imageTranslation(image_file: bytes, from_language: str, to_language: str) -> str` | 将图像文件中的文本从一种语言翻译为另一种语言，并返回翻译后的文本结果。 |
| `getHistory() -> List[Dict[str, Union[str, bytes]]]`         | 获取翻译历史记录，其中每个历史记录都是一个字典，包含原始文本/音频/图像文件和翻译结果。 |

### OCR 类

`OCR` 类是用于处理图像翻译的类，被封装在 `Translation` 类中。

| 方法名                                  | 描述                                           |
| --------------------------------------- | ---------------------------------------------- |
| `imageToText(image_file: bytes) -> str` | 将图像文件识别为文本，并返回识别后的文本结果。 |

## UML 图

下面是更详细的 UML 类图，其中包括了每个类的属性和方法，并展示了它们之间的关系：

```
Copy Code+-----------------+     +------------------+      +----------+
|   Translation   |     |       OCR        |      |  History |
+-----------------+     +------------------+      +----------+
| - ocr: OCR       |                              | - items:  |
+-----------------+                              |            |
| - history: List[Dict[str, Union[str, bytes]]] | | getHistory |
+-----------------+------------------------------+----------+
| textTranslation |      imageToText           |
| voiceTranslation|                              |
| imageTranslation|                              |
| getHistory      |                              |
+-----------------+                              |
                                                  |
                       +------------------------+ |
                       |         Image          |-+
                       +------------------------+
                       | +file: bytes            |
                       +------------------------+
                       | +text: Optional[str]    |
                       +------------------------+
                       | +recognize() -> str     |
                       +------------------------+
```

其中，“+”表示 public 方法或属性，“-”表示 private 方法或属性。在上述类图中，`Image` 类是一个辅助类，用于处理图像翻译时的数据结构。`Translation` 类依赖 `OCR` 类来实现图像翻译功能，同时也依赖 `History` 类来记录翻译历史。`OCR` 类中包含了 `imageToText()` 方法来处理图像翻译，`Image` 类则用于存储图像文件及其对应的文本结果。